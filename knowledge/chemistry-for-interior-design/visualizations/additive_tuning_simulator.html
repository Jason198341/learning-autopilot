<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polymer Additive Tuning Simulator</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: white;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 10px; color: #00d4ff; font-size: 1.8em; }
        .subtitle { text-align: center; color: #888; margin-bottom: 25px; font-size: 0.95em; }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        .panel {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
        }

        .panel h2 {
            font-size: 1.1em;
            margin-bottom: 15px;
            color: #00d4ff;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
        }

        .additive-group {
            margin-bottom: 15px;
        }

        .additive-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
            font-size: 0.85em;
        }

        .additive-name { color: #ccc; }
        .additive-value {
            color: #00d4ff;
            font-weight: 600;
            min-width: 50px;
            text-align: right;
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255,255,255,0.1);
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #00d4ff;
            cursor: pointer;
            transition: transform 0.2s;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        /* Color coding for different additive types */
        .type-stabilizer input[type="range"]::-webkit-slider-thumb { background: #ff6b6b; }
        .type-modifier input[type="range"]::-webkit-slider-thumb { background: #4ecdc4; }
        .type-filler input[type="range"]::-webkit-slider-thumb { background: #ffe66d; }
        .type-process input[type="range"]::-webkit-slider-thumb { background: #95e1d3; }
        .type-color input[type="range"]::-webkit-slider-thumb { background: #dda0dd; }

        .property-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .property-item {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 12px;
        }

        .property-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .property-name { font-size: 0.8em; color: #aaa; }
        .property-value {
            font-size: 1.1em;
            font-weight: 700;
        }

        .property-bar {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .property-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease, background 0.3s ease;
        }

        /* Property colors */
        .prop-stiffness .property-fill { background: linear-gradient(90deg, #667eea, #764ba2); }
        .prop-impact .property-fill { background: linear-gradient(90deg, #f093fb, #f5576c); }
        .prop-hdt .property-fill { background: linear-gradient(90deg, #4facfe, #00f2fe); }
        .prop-tensile .property-fill { background: linear-gradient(90deg, #43e97b, #38f9d7); }
        .prop-shrinkage .property-fill { background: linear-gradient(90deg, #fa709a, #fee140); }
        .prop-density .property-fill { background: linear-gradient(90deg, #a8edea, #fed6e3); }
        .prop-process .property-fill { background: linear-gradient(90deg, #d299c2, #fef9d7); }
        .prop-weather .property-fill { background: linear-gradient(90deg, #89f7fe, #66a6ff); }
        .prop-surface .property-fill { background: linear-gradient(90deg, #fddb92, #d1fdff); }
        .prop-cost .property-fill { background: linear-gradient(90deg, #f6d365, #fda085); }

        .composition-bar {
            display: flex;
            height: 30px;
            border-radius: 8px;
            overflow: hidden;
            margin: 15px 0;
        }

        .comp-segment {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7em;
            font-weight: 600;
            color: #333;
            transition: width 0.3s ease;
            min-width: 0;
            overflow: hidden;
        }

        .warnings {
            background: rgba(255,107,107,0.1);
            border: 1px solid rgba(255,107,107,0.3);
            border-radius: 8px;
            padding: 12px;
            margin-top: 15px;
            min-height: 60px;
        }

        .warnings h3 {
            font-size: 0.85em;
            color: #ff6b6b;
            margin-bottom: 8px;
        }

        .warning-item {
            font-size: 0.8em;
            color: #ffaaaa;
            margin: 4px 0;
            padding-left: 15px;
            position: relative;
        }

        .warning-item::before {
            content: "âš ";
            position: absolute;
            left: 0;
        }

        .preset-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .preset-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8em;
            font-weight: 600;
            transition: all 0.2s;
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .preset-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .preset-btn.active {
            background: #00d4ff;
            color: #1a1a2e;
        }

        .legend {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.75em;
            color: #888;
        }

        .legend-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        @media (max-width: 900px) {
            .main-grid { grid-template-columns: 1fr; }
            .property-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª Polymer Additive Tuning Simulator</h1>
        <p class="subtitle">ìë™ì°¨ ë‚´ì¥ì¬ PP ì»´íŒŒìš´ë“œ ë¬¼ì„± ì‹œë®¬ë ˆì´í„° | ìŠ¬ë¼ì´ë” ì¡°ì ˆ â†’ ì‹¤ì‹œê°„ ë¬¼ì„± ë³€í™”</p>

        <div class="preset-buttons">
            <button class="preset-btn active" onclick="setPreset('standard')">í‘œì¤€ (PP+TD20+EPDM15)</button>
            <button class="preset-btn" onclick="setPreset('highStiffness')">ê³ ê°•ì„±</button>
            <button class="preset-btn" onclick="setPreset('highImpact')">ê³ ì¶©ê²©</button>
            <button class="preset-btn" onclick="setPreset('lowCost')">ì €ì›ê°€</button>
            <button class="preset-btn" onclick="setPreset('premium')">í”„ë¦¬ë¯¸ì—„</button>
        </div>

        <div class="main-grid">
            <!-- Left Panel: Additives -->
            <div class="panel">
                <h2>ğŸ“Š ì²¨ê°€ì œ í•¨ëŸ‰ ì¡°ì ˆ</h2>

                <div class="additive-group type-filler">
                    <div class="additive-label">
                        <span class="additive-name">íƒˆí¬ (Talc) - ê°•ì„±/ì¹˜ìˆ˜ì•ˆì •</span>
                        <span class="additive-value" id="val-talc">20%</span>
                    </div>
                    <input type="range" id="talc" min="0" max="40" value="20" oninput="updateAll()">
                </div>

                <div class="additive-group type-modifier">
                    <div class="additive-label">
                        <span class="additive-name">EPDM - ì¶©ê²©ë³´ê°•</span>
                        <span class="additive-value" id="val-epdm">15%</span>
                    </div>
                    <input type="range" id="epdm" min="0" max="30" value="15" oninput="updateAll()">
                </div>

                <div class="additive-group type-stabilizer">
                    <div class="additive-label">
                        <span class="additive-name">UV ì•ˆì •ì œ (HALS)</span>
                        <span class="additive-value" id="val-uv">0.3%</span>
                    </div>
                    <input type="range" id="uv" min="0" max="10" value="3" step="1" oninput="updateAll()">
                </div>

                <div class="additive-group type-stabilizer">
                    <div class="additive-label">
                        <span class="additive-name">ì‚°í™”ë°©ì§€ì œ</span>
                        <span class="additive-value" id="val-antioxidant">0.3%</span>
                    </div>
                    <input type="range" id="antioxidant" min="0" max="10" value="3" step="1" oninput="updateAll()">
                </div>

                <div class="additive-group type-color">
                    <div class="additive-label">
                        <span class="additive-name">ì•ˆë£Œ (Pigment)</span>
                        <span class="additive-value" id="val-pigment">2%</span>
                    </div>
                    <input type="range" id="pigment" min="0" max="5" value="2" step="0.5" oninput="updateAll()">
                </div>

                <div class="additive-group type-process">
                    <div class="additive-label">
                        <span class="additive-name">í™œì œ (Lubricant)</span>
                        <span class="additive-value" id="val-lubricant">0.3%</span>
                    </div>
                    <input type="range" id="lubricant" min="0" max="15" value="3" step="1" oninput="updateAll()">
                </div>

                <div class="additive-group type-filler">
                    <div class="additive-label">
                        <span class="additive-name">ìœ ë¦¬ì„¬ìœ  (GF)</span>
                        <span class="additive-value" id="val-gf">0%</span>
                    </div>
                    <input type="range" id="gf" min="0" max="40" value="0" oninput="updateAll()">
                </div>

                <h3 style="font-size: 0.9em; margin: 15px 0 10px; color: #aaa;">ë°°í•© ë¹„ìœ¨</h3>
                <div class="composition-bar" id="compositionBar"></div>

                <div class="legend">
                    <div class="legend-item"><div class="legend-dot" style="background: #4a90d9;"></div>PP</div>
                    <div class="legend-item"><div class="legend-dot" style="background: #f5a623;"></div>íƒˆí¬</div>
                    <div class="legend-item"><div class="legend-dot" style="background: #7ed321;"></div>EPDM</div>
                    <div class="legend-item"><div class="legend-dot" style="background: #bd10e0;"></div>GF</div>
                    <div class="legend-item"><div class="legend-dot" style="background: #9b9b9b;"></div>ê¸°íƒ€</div>
                </div>
            </div>

            <!-- Right Panel: Properties -->
            <div class="panel">
                <h2>ğŸ“ˆ ì˜ˆìƒ ë¬¼ì„±</h2>

                <div class="property-grid">
                    <div class="property-item prop-stiffness">
                        <div class="property-header">
                            <span class="property-name">êµ´ê³¡íƒ„ì„±ë¥  (ê°•ì„±)</span>
                            <span class="property-value" id="prop-stiffness">2,500 MPa</span>
                        </div>
                        <div class="property-bar"><div class="property-fill" id="bar-stiffness"></div></div>
                    </div>

                    <div class="property-item prop-impact">
                        <div class="property-header">
                            <span class="property-name">ì¶©ê²©ê°•ë„ (Izod)</span>
                            <span class="property-value" id="prop-impact">15 kJ/mÂ²</span>
                        </div>
                        <div class="property-bar"><div class="property-fill" id="bar-impact"></div></div>
                    </div>

                    <div class="property-item prop-hdt">
                        <div class="property-header">
                            <span class="property-name">HDT (ì—´ë³€í˜•ì˜¨ë„)</span>
                            <span class="property-value" id="prop-hdt">110Â°C</span>
                        </div>
                        <div class="property-bar"><div class="property-fill" id="bar-hdt"></div></div>
                    </div>

                    <div class="property-item prop-tensile">
                        <div class="property-header">
                            <span class="property-name">ì¸ì¥ê°•ë„</span>
                            <span class="property-value" id="prop-tensile">25 MPa</span>
                        </div>
                        <div class="property-bar"><div class="property-fill" id="bar-tensile"></div></div>
                    </div>

                    <div class="property-item prop-shrinkage">
                        <div class="property-header">
                            <span class="property-name">ìˆ˜ì¶•ë¥ </span>
                            <span class="property-value" id="prop-shrinkage">0.8%</span>
                        </div>
                        <div class="property-bar"><div class="property-fill" id="bar-shrinkage"></div></div>
                    </div>

                    <div class="property-item prop-density">
                        <div class="property-header">
                            <span class="property-name">ë¹„ì¤‘</span>
                            <span class="property-value" id="prop-density">1.05</span>
                        </div>
                        <div class="property-bar"><div class="property-fill" id="bar-density"></div></div>
                    </div>

                    <div class="property-item prop-process">
                        <div class="property-header">
                            <span class="property-name">ê°€ê³µì„±</span>
                            <span class="property-value" id="prop-process">ì–‘í˜¸</span>
                        </div>
                        <div class="property-bar"><div class="property-fill" id="bar-process"></div></div>
                    </div>

                    <div class="property-item prop-weather">
                        <div class="property-header">
                            <span class="property-name">ë‚´í›„ì„±</span>
                            <span class="property-value" id="prop-weather">ì–‘í˜¸</span>
                        </div>
                        <div class="property-bar"><div class="property-fill" id="bar-weather"></div></div>
                    </div>

                    <div class="property-item prop-surface">
                        <div class="property-header">
                            <span class="property-name">í‘œë©´ì™¸ê´€</span>
                            <span class="property-value" id="prop-surface">ì–‘í˜¸</span>
                        </div>
                        <div class="property-bar"><div class="property-fill" id="bar-surface"></div></div>
                    </div>

                    <div class="property-item prop-cost">
                        <div class="property-header">
                            <span class="property-name">ìƒëŒ€ì›ê°€</span>
                            <span class="property-value" id="prop-cost">100</span>
                        </div>
                        <div class="property-bar"><div class="property-fill" id="bar-cost"></div></div>
                    </div>
                </div>

                <div class="warnings" id="warnings">
                    <h3>âš ï¸ ì£¼ì˜ì‚¬í•­</h3>
                    <div id="warning-list"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const presets = {
            standard: { talc: 20, epdm: 15, uv: 3, antioxidant: 3, pigment: 2, lubricant: 3, gf: 0 },
            highStiffness: { talc: 35, epdm: 5, uv: 3, antioxidant: 3, pigment: 2, lubricant: 3, gf: 0 },
            highImpact: { talc: 10, epdm: 25, uv: 3, antioxidant: 3, pigment: 2, lubricant: 3, gf: 0 },
            lowCost: { talc: 30, epdm: 8, uv: 1, antioxidant: 2, pigment: 1, lubricant: 2, gf: 0 },
            premium: { talc: 15, epdm: 18, uv: 5, antioxidant: 5, pigment: 2, lubricant: 4, gf: 0 }
        };

        function setPreset(name) {
            const p = presets[name];
            document.getElementById('talc').value = p.talc;
            document.getElementById('epdm').value = p.epdm;
            document.getElementById('uv').value = p.uv;
            document.getElementById('antioxidant').value = p.antioxidant;
            document.getElementById('pigment').value = p.pigment;
            document.getElementById('lubricant').value = p.lubricant;
            document.getElementById('gf').value = p.gf;

            document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            updateAll();
        }

        function updateAll() {
            const talc = parseFloat(document.getElementById('talc').value);
            const epdm = parseFloat(document.getElementById('epdm').value);
            const uv = parseFloat(document.getElementById('uv').value) / 10;
            const antioxidant = parseFloat(document.getElementById('antioxidant').value) / 10;
            const pigment = parseFloat(document.getElementById('pigment').value);
            const lubricant = parseFloat(document.getElementById('lubricant').value) / 10;
            const gf = parseFloat(document.getElementById('gf').value);

            // Update labels
            document.getElementById('val-talc').textContent = talc + '%';
            document.getElementById('val-epdm').textContent = epdm + '%';
            document.getElementById('val-uv').textContent = uv.toFixed(1) + '%';
            document.getElementById('val-antioxidant').textContent = antioxidant.toFixed(1) + '%';
            document.getElementById('val-pigment').textContent = pigment + '%';
            document.getElementById('val-lubricant').textContent = lubricant.toFixed(1) + '%';
            document.getElementById('val-gf').textContent = gf + '%';

            // Calculate properties
            const others = uv + antioxidant + pigment + lubricant;
            const pp = Math.max(0, 100 - talc - epdm - gf - others);

            // Stiffness (MPa) - base 1300, talc +50/%, gf +80/%, epdm -30/%
            const stiffness = Math.round(1300 + talc * 50 + gf * 80 - epdm * 30);

            // Impact (kJ/mÂ²) - base 5, epdm +0.8/%, talc -0.2/%, gf -0.1/%
            const impact = Math.max(2, Math.round((5 + epdm * 0.8 - talc * 0.2 - gf * 0.1) * 10) / 10);

            // HDT (Â°C) - base 80, talc +1.2/%, gf +1.5/%
            const hdt = Math.round(80 + talc * 1.2 + gf * 1.5);

            // Tensile (MPa) - base 30, talc -0.1/%, gf +0.8/%, epdm -0.2/%
            const tensile = Math.round(30 - talc * 0.1 + gf * 0.8 - epdm * 0.2);

            // Shrinkage (%) - base 1.5, talc -0.03/%, gf -0.04/%
            const shrinkage = Math.max(0.2, (1.5 - talc * 0.03 - gf * 0.04).toFixed(2));

            // Density - base 0.91, talc +0.008/%, gf +0.015/%
            const density = (0.91 + talc * 0.008 + gf * 0.015).toFixed(2);

            // Processability (0-100) - base 80, gf -1.5/%, talc>30 -10, lubricant +5/%
            let process = 80 - gf * 1.5 + lubricant * 5;
            if (talc > 30) process -= 10;
            process = Math.min(100, Math.max(20, process));

            // Weather resistance (0-100) - base 40, uv +30/%, antioxidant +20/%
            const weather = Math.min(100, 40 + uv * 30 + antioxidant * 20);

            // Surface (0-100) - base 80, gf -2/%, talc>25 -1/excess%
            let surface = 80 - gf * 2;
            if (talc > 25) surface -= (talc - 25);
            surface = Math.max(20, surface);

            // Cost - base 100, talc -0.5/%, epdm +1/%, gf +0.8/%, uv +2/%, antioxidant +1/%
            const cost = Math.round(100 - talc * 0.5 + epdm * 1 + gf * 0.8 + uv * 2 + antioxidant * 1);

            // Update displays
            document.getElementById('prop-stiffness').textContent = stiffness.toLocaleString() + ' MPa';
            document.getElementById('prop-impact').textContent = impact + ' kJ/mÂ²';
            document.getElementById('prop-hdt').textContent = hdt + 'Â°C';
            document.getElementById('prop-tensile').textContent = tensile + ' MPa';
            document.getElementById('prop-shrinkage').textContent = shrinkage + '%';
            document.getElementById('prop-density').textContent = density;
            document.getElementById('prop-process').textContent = process > 70 ? 'ì–‘í˜¸' : process > 50 ? 'ë³´í†µ' : 'ë¶ˆëŸ‰';
            document.getElementById('prop-weather').textContent = weather > 70 ? 'ì–‘í˜¸' : weather > 50 ? 'ë³´í†µ' : 'ë¶ˆëŸ‰';
            document.getElementById('prop-surface').textContent = surface > 70 ? 'ì–‘í˜¸' : surface > 50 ? 'ë³´í†µ' : 'ë¶ˆëŸ‰';
            document.getElementById('prop-cost').textContent = cost;

            // Update bars
            document.getElementById('bar-stiffness').style.width = Math.min(100, stiffness / 50) + '%';
            document.getElementById('bar-impact').style.width = Math.min(100, impact * 3) + '%';
            document.getElementById('bar-hdt').style.width = Math.min(100, (hdt - 60) / 1) + '%';
            document.getElementById('bar-tensile').style.width = Math.min(100, tensile * 2) + '%';
            document.getElementById('bar-shrinkage').style.width = Math.min(100, (2 - shrinkage) * 70) + '%';
            document.getElementById('bar-density').style.width = Math.min(100, (density - 0.9) * 200) + '%';
            document.getElementById('bar-process').style.width = process + '%';
            document.getElementById('bar-weather').style.width = weather + '%';
            document.getElementById('bar-surface').style.width = surface + '%';
            document.getElementById('bar-cost').style.width = Math.min(100, cost) + '%';

            // Update composition bar
            const compBar = document.getElementById('compositionBar');
            compBar.innerHTML = `
                <div class="comp-segment" style="width: ${pp}%; background: #4a90d9;">${pp > 10 ? 'PP ' + pp.toFixed(0) + '%' : ''}</div>
                <div class="comp-segment" style="width: ${talc}%; background: #f5a623;">${talc > 5 ? talc + '%' : ''}</div>
                <div class="comp-segment" style="width: ${epdm}%; background: #7ed321;">${epdm > 5 ? epdm + '%' : ''}</div>
                <div class="comp-segment" style="width: ${gf}%; background: #bd10e0;">${gf > 5 ? gf + '%' : ''}</div>
                <div class="comp-segment" style="width: ${others}%; background: #9b9b9b;"></div>
            `;

            // Warnings
            const warnings = [];
            if (talc > 30 && epdm < 10) warnings.push('íƒˆí¬ ê³ í•¨ëŸ‰ + EPDM ì €í•¨ëŸ‰: ì·¨ì„± íŒŒê´´ ìœ„í—˜ (ì €ì˜¨ ì¶©ê²© ë¶ˆí•©ê²© ê°€ëŠ¥)');
            if (gf > 20) warnings.push('GF 20% ì´ˆê³¼: í‘œë©´ ì„¬ìœ  ë…¸ì¶œ, ì›°ë“œë¼ì¸ ê°•ë„ ì €í•˜, ì›Œí”¼ì§€ ì£¼ì˜');
            if (uv < 0.2) warnings.push('UV ì•ˆì •ì œ ë¶€ì¡±: 3ë…„ ë‚´ ë³€ìƒ‰ ì‹œì‘ ì˜ˆìƒ');
            if (epdm > 25) warnings.push('EPDM ê³¼ë‹¤: ê°•ì„± ë¶€ì¡±ìœ¼ë¡œ ëŒ€ì‹œë³´ë“œ ì²˜ì§ ê°€ëŠ¥');
            if (talc + gf > 45) warnings.push('ì¶©ì „ì œ ê³¼ë‹¤: ê°€ê³µì„± ì €í•˜, MFI ê¸‰ë½');
            if (lubricant > 1.0) warnings.push('í™œì œ ê³¼ë‹¤: ë„ì¥/ì ‘ì°© ë¶ˆëŸ‰ ìœ„í—˜');
            if (pp < 40) warnings.push('PP í•¨ëŸ‰ 40% ë¯¸ë§Œ: ê¸°ì¬ ì—°ì†ì„± ì €í•˜');

            const warningList = document.getElementById('warning-list');
            if (warnings.length === 0) {
                warningList.innerHTML = '<div style="color: #7ed321; font-size: 0.85em;">âœ“ ë°°í•© ë°¸ëŸ°ìŠ¤ ì–‘í˜¸</div>';
            } else {
                warningList.innerHTML = warnings.map(w => `<div class="warning-item">${w}</div>`).join('');
            }
        }

        // Initialize
        updateAll();
    </script>
</body>
</html>
